(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{33:function(e){e.exports=JSON.parse('{"long_videos":["http://visiongpu23.csail.mit.edu/scratch/datasets/DeepfakeDetection/facenet_smooth_frames/dfdc_train_part_7/jintynmhzu.mp4/face_0.mp4","http://visiongpu23.csail.mit.edu/scratch/datasets/DeepfakeDetection/facenet_smooth_frames/dfdc_train_part_6/avxatzklnf.mp4/face_0.mp4","http://visiongpu23.csail.mit.edu/scratch/datasets/DeepfakeDetection/facenet_smooth_frames/dfdc_train_part_7/mitkblyvjt.mp4/face_0.mp4"],"crops":["http://visiongpu23.csail.mit.edu/scratch/datasets/DeepfakeDetection/facenet_smooth_frames/dfdc_train_part_7/jintynmhzu.mp4/face_0.mp4","http://visiongpu23.csail.mit.edu/scratch/datasets/DeepfakeDetection/facenet_smooth_frames/dfdc_train_part_6/avxatzklnf.mp4/face_0.mp4","http://visiongpu23.csail.mit.edu/scratch/datasets/DeepfakeDetection/facenet_smooth_frames/dfdc_train_part_7/mitkblyvjt.mp4/face_0.mp4"]}')},65:function(e,t,n){e.exports=n(82)},70:function(e,t,n){},80:function(e,t,n){var i={"./test.json":33};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id=80},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(7),s=n.n(o),r=(n(70),n(40)),d=n(10),c=n(110),l=n(113),u=n(117),m=Object(c.a)({root:{display:"flex",minHeight:"100vh",width:"100vw",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",padding:16},topContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:16},startButton:{borderRadius:16,fontSize:36,width:570,paddingLeft:32,paddingRight:32}});function h(e){var t=m();return a.a.createElement("div",{className:t.root},a.a.createElement("div",{className:t.topContainer},a.a.createElement(l.a,{variant:"h2",style:{marginBottom:16}},"Most Memorable Moment")),a.a.createElement("div",{className:t.middleContainer},a.a.createElement(l.a,{variant:"subtitle1",align:"center"},a.a.createElement("b",null,"Instructions:"),a.a.createElement("br",null),"You will be shown a stream of videos.")),a.a.createElement("div",{className:t.bottomContainer},a.a.createElement(r.b,{to:{pathname:"/interface",search:e.location.search}},a.a.createElement(u.a,{variant:"contained",size:"large",className:t.startButton},"Start"))))}var p=n(54),f=n(55),v=n(16),g=n(58),_=n(59),b=n(57),x=n(115),E=n(4),y=n(25),w=n.n(y),k=n(116),I=n(56),C=(n(79),n(33)),S=Object(b.a)({typography:{fontFamily:"'Raleway', sans-serif",fontSize:14,fontWeightLight:100,fontWeightRegular:100,fontWeightMedium:100}}),V=function(e){Object(_.a)(i,e);var t=Object(g.a)(i);function i(e){var n;return Object(p.a)(this,i),(n=t.call(this,e)).state={completed:!1,cropSection:!1,cropVideos:C.crops,currentIndex:0,data:C,longVideos:C.long_videos,percent:0,results:{video_captions:[],crop_choice:[]},textFieldButtonText:"Next",textInput:"",timer:Date.now(),videoEnded:!1,videoEnded2:!1,videoSize:480},n.videoRef=a.a.createRef(),n._setVideoEnded=n._setVideoEnded.bind(Object(v.a)(n)),n._setVideoEnded2=n._setVideoEnded2.bind(Object(v.a)(n)),n._submitHITform=n._submitHITform.bind(Object(v.a)(n)),n._handleTextChange=n._handleTextChange.bind(Object(v.a)(n)),n._handleButtonClick=n._handleButtonClick.bind(Object(v.a)(n)),n._loadNextVideo=n._loadNextVideo.bind(Object(v.a)(n)),n._seenVideoClip=n._seenVideoClip.bind(Object(v.a)(n)),n._notSeenVideoClip=n._notSeenVideoClip.bind(Object(v.a)(n)),n}return Object(f.a)(i,[{key:"componentDidMount",value:function(){if(window.location.href.indexOf("data")>0){var e=this._gup("data"),t=n(80)("./"+e+".json");this.setState({longVideos:t.long_videos,cropVideos:t.crops,percent:0,data:t})}this.videoRef.current.addEventListener("ended",this._setVideoEnded,!1)}},{key:"_setVideoEnded",value:function(){this.setState({videoEnded:!0})}},{key:"_setVideoEnded2",value:function(){this.setState({videoEnded2:!0})}},{key:"_handleButtonClick",value:function(){var e=this;"Next"===this.state.textFieldButtonText?this._loadNextVideo():"Continue to Next Section"==this.state.textFieldButtonText&&this.setState({videoEnded:!1,cropSection:!0,currentIndex:0,percent:0},(function(){e.videoRef.current.addEventListener("ended",e._setVideoEnded2,!1)}))}},{key:"_loadNextVideo",value:function(){var e=this;this.state.textInput.split(" ").length<8?alert("Please enter a description of the video before continuing with at least 8 words."):(this.setState({percent:Math.min(this.state.percent+100/this.state.longVideos.length,100)}),this.state.results.video_captions.push(this.state.textInput),this.state.currentIndex!==this.state.longVideos.length-1?this.setState({videoEnded:!1,currentIndex:this.state.currentIndex+1,textInput:""},(function(){e.videoRef.current.addEventListener("ended",e._setVideoEnded,!1)})):this.setState({textFieldButtonText:"Continue to Next Section"}))}},{key:"_seenVideoClip",value:function(){var e=this;if(this.state.results.crop_choice.push(!0),this.setState({percent:Math.min(this.state.percent+100/this.state.cropVideos.length,100)}),this.state.currentIndex===this.state.cropVideos.length-1)return this.setState({completed:!0,videoEnded2:!0}),void this._submitHITform();this.setState({currentIndex:this.state.currentIndex+1,videoEnded2:!1},(function(){e.videoRef.current.addEventListener("ended",e._setVideoEnded2,!1)}))}},{key:"_notSeenVideoClip",value:function(){var e=this;if(this.state.results.crop_choice.push(!1),this.setState({percent:Math.min(this.state.percent+100/this.state.cropVideos.length,100)}),this.state.currentIndex===this.state.cropVideos.length-1)return this.setState({completed:!0,videoEnded2:!0}),void this._submitHITform();this.setState({currentIndex:this.state.currentIndex+1,videoEnded2:!1},(function(){e.videoRef.current.addEventListener("ended",e._setVideoEnded2,!1)}))}},{key:"_submitHITform",value:function(){var e=decodeURIComponent(this._gup("turkSubmitTo"))+"/mturk/externalSubmit",t=w()("#submit-form");console.log("Gup output for assignmentId, workerId:",this._gup("assignmentId"),this._gup("workerId")),this._addHiddenField(t,"assignmentId",this._gup("assignmentId")),this._addHiddenField(t,"workerId",this._gup("workerId")),this._addHiddenField(t,"taskTime",(Date.now()-this.state.timer)/1e3),this._addHiddenField(t,"feedback",w()("#feedback-input").val()),this.state.results.data=this.state.data;var n={outputs:this.state.results};this._addHiddenField(t,"results",JSON.stringify(n)),w()("#submit-form").attr("action",e),w()("#submit-form").attr("method","POST"),w()("#submit-form").submit()}},{key:"_addHiddenField",value:function(e,t,n){var i=w()("<input type='hidden' name='"+t+"' value=''>");i.val(n),e.append(i)}},{key:"_gup",value:function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=window.location.href,i=t.exec(n);return null==i?"":i[1]}},{key:"_handleTextChange",value:function(e){this.setState({textInput:e.target.value})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.cropSection,i=t.cropVideos,o=t.currentIndex,s=t.longVideos,r=t.percent,d=t.textFieldButtonText,c=t.textInput,m=t.videoEnded,h=t.videoSize,p=t.completed,f=t.videoEnded2;return a.a.createElement(x.a,{theme:S},a.a.createElement("div",{className:e.root},a.a.createElement("div",{className:e.topSection},a.a.createElement(l.a,{variant:"h2",style:{marginBottom:16}},"Most Memorable Moment"),a.a.createElement(l.a,{variant:"subtitle1",align:"center",style:{marginBottom:16}},a.a.createElement("b",null,"Instructions:")," ",a.a.createElement("br",null),"Please watch the entire video, then write a description about the video of more than 8 words."),a.a.createElement("div",{className:e.levelProgress},a.a.createElement(l.a,{variant:"caption"},"Level Progress:"),a.a.createElement(I.Progress,{style:{width:"70%",marginLeft:8},percent:Math.ceil(r),theme:{active:{symbol:Math.ceil(r)+"%",color:"green"},success:{symbol:Math.ceil(r)+"%",color:"green"}}}))),a.a.createElement("div",{className:e.videoSection},m?a.a.createElement("div",{className:e.textFieldContainer},a.a.createElement("form",{noValidate:!0,autoComplete:"off"},a.a.createElement(k.a,{id:"outlined-multiline-static",label:"Enter Description",multiline:!0,className:e.textField,rows:4,defaultValue:c,onChange:this._handleTextChange,variant:"outlined"})),a.a.createElement(u.a,{variant:"contained",className:e.textSubmitButton,onClick:this._handleButtonClick},d)):n?a.a.createElement("div",{className:e.videoContainer},f?p?a.a.createElement(l.a,{style:{marginTop:16},variant:"h5",align:"center",gutterBottom:!0},"Thank you for completing the experiment."):a.a.createElement("div",{className:e.buttonsContainer},a.a.createElement(u.a,{variant:"contained",className:e.leftButton,onClick:this._notSeenVideoClip},"Haven't Seen Clip"),a.a.createElement(u.a,{variant:"contained",className:e.rightButton,onClick:this._seenVideoClip},"Seen Video Clip")):a.a.createElement("video",{id:"myVideo",src:i[o],width:h,ref:this.videoRef,autoPlay:!0,muted:!0})):a.a.createElement("div",{className:e.videoContainer},a.a.createElement("video",{id:"myVideo",src:s[o],width:h,ref:this.videoRef,autoPlay:!0,muted:!0}))),a.a.createElement(l.a,{className:e.irb,variant:"caption"},"This HIT is part of a MIT scientific research project. Your decision to complete this HIT is voluntary. There is no way for us to identify you. The only information we will have, in addition to your responses, is the time at which you completed the study. The results of the research may be presented at scientific meetings or published in scientific journals. Clicking on the 'SUBMIT' button on the bottom of this page indicates that you are at least 18 years of age and agree to complete this HIT voluntarily.")))}}]),i}(i.Component),N=Object(E.a)((function(e){return{root:{display:"flex",minHeight:"100vh",width:"100vw",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",padding:16},buttonsContainer:{display:"flex",justifyContent:"center",marginTop:16},irb:{width:"70%",textAlign:"center",padding:16},leftButton:{borderRadius:16,fontSize:24,marginRight:8},levelProgress:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},rightButton:{borderRadius:16,fontSize:24,marginLeft:8},textField:{minWidth:256,width:"50%",marginBottom:16},textFieldContainer:{display:"flex",flexDirection:"column",alignItems:"center"},textSubmitButton:{borderRadius:16,fontSize:24,margin:8},topSection:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},videoContainer:{display:"flex",flexDirection:"column",alignItems:"center"}}}))(V);n(81);var T=function(){return a.a.createElement(r.a,{basename:"/memorability_thumbnailing_experiment"},a.a.createElement(d.c,null,a.a.createElement(d.a,{exact:!0,path:"/",component:h}),a.a.createElement(d.a,{path:"/interface",component:N})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.99dc7dc2.chunk.js.map